<?php

class LingwoDictionaryTestCase extends DrupalWebTestCase {
  public static function getInfo() {
    return array(
      'name' => 'lingwo_dictionary',
      'description' => 'Testing the web functionality provided by lingwo_dictionary.',
      'group' => 'Lingwo Dictionary',
    );
  }

  public function setUp() {
    parent::setUp('lingwo_dictionary');

    # create an appropriate user
    $this->drupalLogin(
      $this->drupalCreateUser(array('administer content types')));

    // create the entry content type
    $entry_type = $this->drupalCreateContentType();
    lingwo_dictionary_entry_content_type($entry_type->type);

    # create an appropriate user
    $this->drupalLogin(
      $this->drupalCreateUser(array('create '. $entry_type->type .' content')));

    // TODO: more stuff is necessary!
    // TODO: set-up the POS taxonomy.
  }

  public function testUniquePairs() {
    $edit = array(
      'title' => $this->randomName(8),
      'body'  => $this->randomName(16),
    );

    $entry_type = lingwo_dictionary_entry_content_type();
    $this->drupalPost("node/add/$entry_type", $edit, 'Save');
  }
}

