
These are some of the queries I used for building links for Joanna (Kłębicka).  They may
be useful later.

drush sql-query "select distinct n1.nid from lingwo_korpus_entry as k, lingwo_dictionary_entry as e, node as n1 where e.language = k.language and k.pos = e.pos and  k.headword = e.title and e.nid = n1.tnid and n1.language = 'pl' and (k.nid = 523) order by k.nid, e.nid" > ~/joanna-links-2

drush sql-query "select distinct k.nid, n1.nid from lingwo_korpus_entry as k, lingwo_dictionary_entry as e, node as n1 where e.language = k.language and k.pos = e.pos and  k.headword = e.title and e.nid = n1.tnid and n1.language = 'pl' and (k.nid = 523 or k.nid = 804) order by k.nid, e.nid" > ~/joanna-links-3

And this Python script:

fd = open('/home/dsnopek/joanna-links-3', 'rt')
used = {}
while 1:
    line = fd.readline()
    line = line[:-1]
    if line == '':
        break
    (text, nid) = line.split('\t')
    if text == '523':
        used[nid] = True
    if text == '804' and not used.has_key(nid):
        print nid

